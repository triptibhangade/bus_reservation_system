<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= content_for?(:title) ? yield(:title) : "BusReservationSystem" %></title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag "application", :media => "all" %>

    <!-- For third-generation iPad with high-resolution Retina display: -->
    <!-- Size should be 144 x 144 pixels -->
  

    <%= javascript_include_tag "application" %>


    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    <div class="navbar navbar-default navbar-static-top">
      <div class="container">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
          <a class="navbar-brand" href="/"> <%= image_tag("icon.jpg", size: "35x20", alt: "BusReservationSystem") %> </a>
          <a class="navbar-brand" href="/"> BusReservationSystem </a>
          <a class="navbar-brand" href="#">  </a>
          <div class="navbar-collapse collapse navbar-responsive-collapse">
          <!-- -------------------- Customer Sign In -------------------- -->
          <% if current_user.present? %>
            <%= menu_group pull: :right do %>
              <%= menu_item "Sign Out", destroy_user_session_path, method: :delete %>
            <% end %>

            <% if current_user.role == 'customer'%>
              <%= menu_group pull: :right do %>
                <%= menu_item current_user.name, profile_path %>
              <% end %>
            <% end %>
          
            <% if current_user.role == 'admin'%>
              <%= menu_group pull: :right do %>
                <%= menu_item current_user.name, admin_profile_path %>
              <% end %>

              <%= menu_group pull: :right do %>
                <%= menu_item "Bus Owner List", admin_bus_owners_path %>
              <% end %>

              <%= menu_group pull: :right do %>
                <%= menu_item "Customer List", admin_customers_path %>
              <% end %>

              <%= menu_group pull: :right do %>
                <%= menu_item "Bus List",  admin_buses_path %>
              <% end %>

              <%= menu_group pull: :right do %>
                <%= menu_item "Reservation List", admin_reservations_path %>
              <% end %>
            <% end %>
          </div>
        <!-- -------------------- Bus Owner Sign In -------------------- -->
        <% elsif current_bus_owner.present? %>

            <%= menu_group pull: :right do %>
              <%= menu_item "Sign Out", destroy_bus_owner_session_path,
                                    method: :delete %>
            <% end %>
            <%= menu_group pull: :right do %>
              <%= menu_item current_bus_owner.name, bus_owners_profile_path %>
            <% end %>

            <% if current_bus_owner && current_bus_owner.status == "active" %>
              <%= menu_group pull: :right do %>
                <%= menu_item 'Add Bus', new_bus_owners_bus_path %>
              <% end %>
            <% end %>
          </div>
        <!-- -------------------- Sign Out -------------------- -->
        <% else %>
            <%#= menu_group pull: :right do %>
              <%#= drop_down "Sign In" do %>
                <%#= menu_item "Customer", user_login_path %>
                <%#= menu_item "Bus Owner",  bus_owner_login_path %>
              <%# end %>
            <%# end %>

            <%#= menu_group pull: :right do %>
              <%#= drop_down "Sign Up" do %>
                <%#= menu_item "Customer", user_signup_path %>
                <%#= menu_item "Bus Owner",  bus_owner_signup_path %>
              <%# end %>
            <%# end %>

              <!-- =========================================== -->
            <!-- -------------------- Bus Owner Sign In/Sign Up -------------------- -->
            <%= menu_group pull: :right do %>
              <%= menu_item "Sign Up",  user_signup_path, :class => 'btn btn-default' %>
            <% end %>
        
            <%= menu_group pull: :right do %>
              <%= menu_item "Sign In", user_login_path, :class => 'btn btn-default' %>
            <% end %>

          </div>

        <% end %>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-lg-10">
          <%= bootstrap_flash %>
          <%= yield %>
        </div>
      </div><!--/row-->

      <footer>
        <p>&copy; Company 2019</p>
      </footer>

    </div> <!-- /container -->

  </body>
</html>
